{"remainingRequest":"/Users/anne/vue_unnotech/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/anne/vue_unnotech/src/components/BookDetail.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/anne/vue_unnotech/src/components/BookDetail.vue","mtime":1615079009791},{"path":"/Users/anne/vue_unnotech/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/anne/vue_unnotech/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/anne/vue_unnotech/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/anne/vue_unnotech/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Cgpjb25zdCBib29rRGV0YWlsQVBJID0gJ2h0dHBzOi8vZmUtaW50ZXJ2aWV3LWFwaS51bm5vdGVjaC5jb20vcHJvZmlsZS8nOwoKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkZXRhaWw6ICcnLAogICAgICB2YWxpZGF0aW9uOiBbZmFsc2UsIGZhbHNlXSwKICAgICAgbW9kYWw6ICcnLAogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0RGV0YWlsKCk7CiAgfSwKICB3YXRjaDogewogICAgJHJvdXRlKCkgewogICAgICB0aGlzLmdldERldGFpbCgpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgZ2V0RGV0YWlsKCkgeyAgIAogICAgICBjb25zdCBidG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYnRuJyk7CiAgICAgIGNvbnN0IGNvdW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NvdW50Jyk7CiAgICAgIGNvbnN0IHByaWNlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3ByaWNlJyk7CgogICAgICB0aGlzLmF4aW9zLmdldChgJHtib29rRGV0YWlsQVBJfSR7dGhpcy4kcm91dGUucGFyYW1zLmlkfWApLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIHRoaXMuZGV0YWlsID0gewogICAgICAgICAgcHJpY2U6IHBhcnNlSW50KHJlc3BvbnNlLmRhdGEucHJpY2UsIDEwKSwKICAgICAgICAgIGNvdW50OiBwYXJzZUludChyZXNwb25zZS5kYXRhLmNvdW50LCAxMCkKICAgICAgICB9CiAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgIHByaWNlLmNsYXNzTGlzdC5hZGQoJ2ZhZGUtaW4nKTsKICAgICAgICBjb3VudC5jbGFzc0xpc3QuYWRkKCdmYWRlLWluJyk7CiAgICAgICAgYnRuLmNsYXNzTGlzdC5hZGQoJ2ZhZGUtaW4nKTsKICAgICAgICBjb3VudC5zdHlsZS5hbmltYXRpb25EZWxheSA9ICcuMnMnOwogICAgICAgIGJ0bi5zdHlsZS5hbmltYXRpb25EZWxheSA9ICcuNHMnOwoKICAgICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignYW5pbWF0aW9uZW5kJywgKCkgPT4gewogICAgICAgICAgcHJpY2UuY2xhc3NMaXN0LnJlbW92ZSgnZmFkZS1pbicpOwogICAgICAgICAgY291bnQuY2xhc3NMaXN0LnJlbW92ZSgnZmFkZS1pbicpOwogICAgICAgICAgYnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2ZhZGUtaW4nKTsKICAgICAgICB9KTsKICAgICAgfSkKICAgIH0sCiAgICBhZGRQcmljZSgpIHsKICAgICAgdGhpcy5kZXRhaWwucHJpY2UgKys7CiAgICB9LAogICAgbWludXNQcmljZSgpIHsKICAgICAgaWYgKHRoaXMuZGV0YWlsLnByaWNlID4gMCkgdGhpcy5kZXRhaWwucHJpY2UgLS07CiAgICB9LAogICAgYWRkQ291bnQoKSB7CiAgICAgIHRoaXMuZGV0YWlsLmNvdW50ICsrOwogICAgfSwKICAgIG1pbnVzQ291bnQoKSB7CiAgICAgIGlmICh0aGlzLmRldGFpbC5jb3VudCA+IDApIHRoaXMuZGV0YWlsLmNvdW50IC0tOwogICAgfSwKICAgIHN1Ym1pdCgpIHsKICAgICAgY29uc3Qgdm0gPSB0aGlzOwogICAgICBjb25zdCBmb3JtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5uZWVkcy12YWxpZGF0aW9uJyk7CgogICAgICBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChmb3JtcykuZm9yRWFjaChmdW5jdGlvbiAoZm9ybSwgaW5kZXgpIHsKICAgICAgICBpZiAoaXNOYU4oZm9ybS52YWx1ZSkgfHwgZm9ybS52YWx1ZSA9PSAnJyB8fCBmb3JtLnZhbHVlIDwgIDApIHsKICAgICAgICAgIHZtLnZhbGlkYXRpb24uc3BsaWNlKGluZGV4LCAxLCB0cnVlKTsKICAgICAgICAgIAogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2bS52YWxpZGF0aW9uLnNwbGljZShpbmRleCwgMSwgZmFsc2UpOwogICAgICAgIH0KICAgICAgfSkKICAgICAgaWYgKHRoaXMudmFsaWRhdGlvbi5ldmVyeShlID0+IGUgPT0gZmFsc2UpKSB0aGlzLnVwZGF0ZURldGFpbCgpOwogICAgfSwKICAgIHVwZGF0ZURldGFpbCgpIHsKICAgICAgY29uc3Qgdm0gPSB0aGlzOwogICAgICBjb25zdCB0b3AgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wOwoKICAgICAgdGhpcy5heGlvcy5wYXRjaChgJHtib29rRGV0YWlsQVBJfSR7dGhpcy4kcm91dGUucGFyYW1zLmlkfWAsIHRoaXMuZGV0YWlsKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09IDIwMCkgewogICAgICAgICAgdGhpcy5tb2RhbCA9IHRydWU7CgogICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgIHZtLm1vZGFsID0gZmFsc2U7CiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAiYXV0byI7IAogICAgICAgICAgfSwgMTAwMCk7IAoKICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKS5zdHlsZS5zZXRQcm9wZXJ0eSgnLS10b3AnLCB0b3AgKyAncHgnKTsKICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAiaGlkZGVuIjsgCiAgICAgICAgfQogICAgICB9KQogICAgfSwKICB9Cn0K"},{"version":3,"sources":["/Users/anne/vue_unnotech/src/components/BookDetail.vue"],"names":[],"mappings":";;AA+CA,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;AAEtE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACb,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACL,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;MACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;MACV,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC1B,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;IACX;EACF,CAAC;EACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACR,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAClB,CAAC;EACD,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;MACP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAClB;EACF,CAAC;EACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;MACV,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC1C,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC9C,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;MAE9C,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;QAC1E,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE;UACZ,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CA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","file":"/Users/anne/vue_unnotech/src/components/BookDetail.vue","sourceRoot":"","sourcesContent":["<template>\n\n  <div>\n    <div class=\"wrap-book-detail\">\n      <div class=\"wrap-detail\">\n        <div class=\"row\">\n          <label for=\"inputPrice\" class=\"mt-2\">價格</label>\n          <button class=\"btn\"><i class=\"bi bi-dash-square\" @click=\"minusPrice\"></i></button>\n          <input id=\"inputPrice\"\n            :class=\"['needs-validation', {'is-invalid':validation[0]}, 'form-control']\" \n            v-model=\"detail.price\"\n          >\n          <button class=\"btn\"><i class=\"bi bi-plus-square\" @click=\"addPrice\"></i></button>\n          <div class=\"invalid-feedback\">Please enter positive number.</div>\n        </div>\n\n        <div class=\"row mt-3\">\n          <label for=\"inputCount\" class=\"mt-2\">數量</label>\n          <button class=\"btn\"><i class=\"bi bi-dash-square\" @click=\"minusCount\"></i></button>\n          <input id=\"inputCount\" \n            :class=\"['needs-validation', {'is-invalid':validation[1]}, 'form-control']\" \n            v-model=\"detail.count\"\n          >\n          <button class=\"btn\"><i class=\"bi bi-plus-square\" @click=\"addCount\"></i></button>\n          <div class=\"invalid-feedback\">Please enter positive number.</div> \n        </div>\n      \n        <button id=\"btn\" class=\"btn btn-primary mt-3\" @click=\"submit\">\n          確認修改\n          <i class=\"bi bi-pencil-square\"></i>\n        </button>\n      </div>\n    </div>\n\n    <div v-if=\"modal\" class=\"open-modal\">\n      <div class=\"modal-dialog slide-dialog\">\n        <i class=\"bi bi-check-circle\"></i>\n        Successfully updated!\n      </div>\n    </div>\n  </div>\n\n</template>\n\n\n<script>\n\nconst bookDetailAPI = 'https://fe-interview-api.unnotech.com/profile/';\n\nexport default {\n  data() {\n    return {\n      detail: '',\n      validation: [false, false],\n      modal: '',\n    }\n  },\n  mounted() {\n    this.getDetail();\n  },\n  watch: {\n    $route() {\n      this.getDetail();\n    }\n  },\n  methods: {\n    getDetail() {   \n      const btn = document.querySelector('#btn');\n      const count = document.querySelector('#count');\n      const price = document.querySelector('#price');\n\n      this.axios.get(`${bookDetailAPI}${this.$route.params.id}`).then(response => {\n        this.detail = {\n          price: parseInt(response.data.price, 10),\n          count: parseInt(response.data.count, 10)\n        }\n      }).then(() => {\n        price.classList.add('fade-in');\n        count.classList.add('fade-in');\n        btn.classList.add('fade-in');\n        count.style.animationDelay = '.2s';\n        btn.style.animationDelay = '.4s';\n\n        btn.addEventListener('animationend', () => {\n          price.classList.remove('fade-in');\n          count.classList.remove('fade-in');\n          btn.classList.remove('fade-in');\n        });\n      })\n    },\n    addPrice() {\n      this.detail.price ++;\n    },\n    minusPrice() {\n      if (this.detail.price > 0) this.detail.price --;\n    },\n    addCount() {\n      this.detail.count ++;\n    },\n    minusCount() {\n      if (this.detail.count > 0) this.detail.count --;\n    },\n    submit() {\n      const vm = this;\n      const forms = document.querySelectorAll('.needs-validation');\n\n      Array.prototype.slice.call(forms).forEach(function (form, index) {\n        if (isNaN(form.value) || form.value == '' || form.value <  0) {\n          vm.validation.splice(index, 1, true);\n          \n        } else {\n          vm.validation.splice(index, 1, false);\n        }\n      })\n      if (this.validation.every(e => e == false)) this.updateDetail();\n    },\n    updateDetail() {\n      const vm = this;\n      const top = document.documentElement.scrollTop;\n\n      this.axios.patch(`${bookDetailAPI}${this.$route.params.id}`, this.detail).then(response => {\n        if (response.status == 200) {\n          this.modal = true;\n\n          setTimeout(() => {\n            vm.modal = false;\n            document.body.style.overflow = \"auto\"; \n          }, 1000); \n\n          document.querySelector('body').style.setProperty('--top', top + 'px');\n          document.body.style.overflow = \"hidden\"; \n        }\n      })\n    },\n  }\n}\n</script>\n\n<style>\n\n  body {\n    --top: 0;\n  }\n\n  .wrap-book-detail {\n    width: 30%;\n    margin: 0 auto;\n    padding: 3vh 1vh 2vh 1vh;\n    background: linear-gradient(to right, #4BC0C8, #C779D0, #FEAC5E);\n  }\n\n  .wrap-detail {\n    margin: 0 auto;\n    max-width: 80%;\n    background: red;\n    text-align: center;\n  }\n\n  input {\n    max-width: 60%; \n    text-align: center;\n  }\n\n  .fade-in { \n    animation: fade-in .2s;\n  }\n\n  .modal-dialog{\n    background: white;\n    display: inline-block;\n    padding: 15px;\n    border-radius: 5px;\n    animation: slide-dialog .5s;\n  }\n\n  .open-modal {\n    width: 100%;\n    height: 100%;\n    background: rgb(0, 0, 0, .4);\n    position: absolute;\n    top: var(--top);\n    left: 0;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    animation: pop-modal .5s;\n  }\n\n  @media (max-width: 546px) {\n    .wrap-book-detail {\n      width: 100%;\n      margin: 0 auto;\n      padding: 3vh 1vh 2vh 1vh;\n      background: linear-gradient(to right, #4BC0C8, #C779D0, #FEAC5E);\n    }\n  }\n\n  @keyframes pop-modal {\n    0% {\n      opacity: 0;\n    }\n    100% {\n      opacity: 1;\n    }\n  }\n\n  @keyframes slide-dialog {\n    0% {\n      transform: translate(0, 10vh)\n    }\n    100% {\n      transform: translate(0, 0);\n    }\n  }\n\n  @keyframes fade-in {\n    0% {\n      opacity: 0;\n      transform: translate(-100px, 0);\n    }\n    100% {\n      opacity: 1;\n      transform: translate(0, 0);\n    }\n  }\n\n</style>\n"]}]}