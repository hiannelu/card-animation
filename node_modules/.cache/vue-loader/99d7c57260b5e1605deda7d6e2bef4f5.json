{"remainingRequest":"/Users/anne/vue_unnotech/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/anne/vue_unnotech/src/components/BookDetail.vue?vue&type=style&index=0&id=618ce9ca&lang=css","dependencies":[{"path":"/Users/anne/vue_unnotech/src/components/BookDetail.vue","mtime":1615079009791},{"path":"/Users/anne/vue_unnotech/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/anne/vue_unnotech/node_modules/vue-loader-v16/dist/stylePostLoader.js","mtime":499162500000},{"path":"/Users/anne/vue_unnotech/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/anne/vue_unnotech/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/anne/vue_unnotech/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgogIGJvZHkgewogICAgLS10b3A6IDA7CiAgfQoKICAud3JhcC1ib29rLWRldGFpbCB7CiAgICB3aWR0aDogMzAlOwogICAgbWFyZ2luOiAwIGF1dG87CiAgICBwYWRkaW5nOiAzdmggMXZoIDJ2aCAxdmg7CiAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQodG8gcmlnaHQsICM0QkMwQzgsICNDNzc5RDAsICNGRUFDNUUpOwogIH0KCiAgLndyYXAtZGV0YWlsIHsKICAgIG1hcmdpbjogMCBhdXRvOwogICAgbWF4LXdpZHRoOiA4MCU7CiAgICBiYWNrZ3JvdW5kOiByZWQ7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgfQoKICBpbnB1dCB7CiAgICBtYXgtd2lkdGg6IDYwJTsgCiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgfQoKICAuZmFkZS1pbiB7IAogICAgYW5pbWF0aW9uOiBmYWRlLWluIC4yczsKICB9CgogIC5tb2RhbC1kaWFsb2d7CiAgICBiYWNrZ3JvdW5kOiB3aGl0ZTsKICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICAgIHBhZGRpbmc6IDE1cHg7CiAgICBib3JkZXItcmFkaXVzOiA1cHg7CiAgICBhbmltYXRpb246IHNsaWRlLWRpYWxvZyAuNXM7CiAgfQoKICAub3Blbi1tb2RhbCB7CiAgICB3aWR0aDogMTAwJTsKICAgIGhlaWdodDogMTAwJTsKICAgIGJhY2tncm91bmQ6IHJnYigwLCAwLCAwLCAuNCk7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICB0b3A6IHZhcigtLXRvcCk7CiAgICBsZWZ0OiAwOwogICAgZGlzcGxheTogZmxleDsKICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgIGFuaW1hdGlvbjogcG9wLW1vZGFsIC41czsKICB9CgogIEBtZWRpYSAobWF4LXdpZHRoOiA1NDZweCkgewogICAgLndyYXAtYm9vay1kZXRhaWwgewogICAgICB3aWR0aDogMTAwJTsKICAgICAgbWFyZ2luOiAwIGF1dG87CiAgICAgIHBhZGRpbmc6IDN2aCAxdmggMnZoIDF2aDsKICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvIHJpZ2h0LCAjNEJDMEM4LCAjQzc3OUQwLCAjRkVBQzVFKTsKICAgIH0KICB9CgogIEBrZXlmcmFtZXMgcG9wLW1vZGFsIHsKICAgIDAlIHsKICAgICAgb3BhY2l0eTogMDsKICAgIH0KICAgIDEwMCUgewogICAgICBvcGFjaXR5OiAxOwogICAgfQogIH0KCiAgQGtleWZyYW1lcyBzbGlkZS1kaWFsb2cgewogICAgMCUgewogICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgwLCAxMHZoKQogICAgfQogICAgMTAwJSB7CiAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKDAsIDApOwogICAgfQogIH0KCiAgQGtleWZyYW1lcyBmYWRlLWluIHsKICAgIDAlIHsKICAgICAgb3BhY2l0eTogMDsKICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTEwMHB4LCAwKTsKICAgIH0KICAgIDEwMCUgewogICAgICBvcGFjaXR5OiAxOwogICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgwLCAwKTsKICAgIH0KICB9Cgo="},{"version":3,"sources":["/Users/anne/vue_unnotech/src/components/BookDetail.vue"],"names":[],"mappings":"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","file":"/Users/anne/vue_unnotech/src/components/BookDetail.vue","sourceRoot":"","sourcesContent":["<template>\n\n  <div>\n    <div class=\"wrap-book-detail\">\n      <div class=\"wrap-detail\">\n        <div class=\"row\">\n          <label for=\"inputPrice\" class=\"mt-2\">價格</label>\n          <button class=\"btn\"><i class=\"bi bi-dash-square\" @click=\"minusPrice\"></i></button>\n          <input id=\"inputPrice\"\n            :class=\"['needs-validation', {'is-invalid':validation[0]}, 'form-control']\" \n            v-model=\"detail.price\"\n          >\n          <button class=\"btn\"><i class=\"bi bi-plus-square\" @click=\"addPrice\"></i></button>\n          <div class=\"invalid-feedback\">Please enter positive number.</div>\n        </div>\n\n        <div class=\"row mt-3\">\n          <label for=\"inputCount\" class=\"mt-2\">數量</label>\n          <button class=\"btn\"><i class=\"bi bi-dash-square\" @click=\"minusCount\"></i></button>\n          <input id=\"inputCount\" \n            :class=\"['needs-validation', {'is-invalid':validation[1]}, 'form-control']\" \n            v-model=\"detail.count\"\n          >\n          <button class=\"btn\"><i class=\"bi bi-plus-square\" @click=\"addCount\"></i></button>\n          <div class=\"invalid-feedback\">Please enter positive number.</div> \n        </div>\n      \n        <button id=\"btn\" class=\"btn btn-primary mt-3\" @click=\"submit\">\n          確認修改\n          <i class=\"bi bi-pencil-square\"></i>\n        </button>\n      </div>\n    </div>\n\n    <div v-if=\"modal\" class=\"open-modal\">\n      <div class=\"modal-dialog slide-dialog\">\n        <i class=\"bi bi-check-circle\"></i>\n        Successfully updated!\n      </div>\n    </div>\n  </div>\n\n</template>\n\n\n<script>\n\nconst bookDetailAPI = 'https://fe-interview-api.unnotech.com/profile/';\n\nexport default {\n  data() {\n    return {\n      detail: '',\n      validation: [false, false],\n      modal: '',\n    }\n  },\n  mounted() {\n    this.getDetail();\n  },\n  watch: {\n    $route() {\n      this.getDetail();\n    }\n  },\n  methods: {\n    getDetail() {   \n      const btn = document.querySelector('#btn');\n      const count = document.querySelector('#count');\n      const price = document.querySelector('#price');\n\n      this.axios.get(`${bookDetailAPI}${this.$route.params.id}`).then(response => {\n        this.detail = {\n          price: parseInt(response.data.price, 10),\n          count: parseInt(response.data.count, 10)\n        }\n      }).then(() => {\n        price.classList.add('fade-in');\n        count.classList.add('fade-in');\n        btn.classList.add('fade-in');\n        count.style.animationDelay = '.2s';\n        btn.style.animationDelay = '.4s';\n\n        btn.addEventListener('animationend', () => {\n          price.classList.remove('fade-in');\n          count.classList.remove('fade-in');\n          btn.classList.remove('fade-in');\n        });\n      })\n    },\n    addPrice() {\n      this.detail.price ++;\n    },\n    minusPrice() {\n      if (this.detail.price > 0) this.detail.price --;\n    },\n    addCount() {\n      this.detail.count ++;\n    },\n    minusCount() {\n      if (this.detail.count > 0) this.detail.count --;\n    },\n    submit() {\n      const vm = this;\n      const forms = document.querySelectorAll('.needs-validation');\n\n      Array.prototype.slice.call(forms).forEach(function (form, index) {\n        if (isNaN(form.value) || form.value == '' || form.value <  0) {\n          vm.validation.splice(index, 1, true);\n          \n        } else {\n          vm.validation.splice(index, 1, false);\n        }\n      })\n      if (this.validation.every(e => e == false)) this.updateDetail();\n    },\n    updateDetail() {\n      const vm = this;\n      const top = document.documentElement.scrollTop;\n\n      this.axios.patch(`${bookDetailAPI}${this.$route.params.id}`, this.detail).then(response => {\n        if (response.status == 200) {\n          this.modal = true;\n\n          setTimeout(() => {\n            vm.modal = false;\n            document.body.style.overflow = \"auto\"; \n          }, 1000); \n\n          document.querySelector('body').style.setProperty('--top', top + 'px');\n          document.body.style.overflow = \"hidden\"; \n        }\n      })\n    },\n  }\n}\n</script>\n\n<style>\n\n  body {\n    --top: 0;\n  }\n\n  .wrap-book-detail {\n    width: 30%;\n    margin: 0 auto;\n    padding: 3vh 1vh 2vh 1vh;\n    background: linear-gradient(to right, #4BC0C8, #C779D0, #FEAC5E);\n  }\n\n  .wrap-detail {\n    margin: 0 auto;\n    max-width: 80%;\n    background: red;\n    text-align: center;\n  }\n\n  input {\n    max-width: 60%; \n    text-align: center;\n  }\n\n  .fade-in { \n    animation: fade-in .2s;\n  }\n\n  .modal-dialog{\n    background: white;\n    display: inline-block;\n    padding: 15px;\n    border-radius: 5px;\n    animation: slide-dialog .5s;\n  }\n\n  .open-modal {\n    width: 100%;\n    height: 100%;\n    background: rgb(0, 0, 0, .4);\n    position: absolute;\n    top: var(--top);\n    left: 0;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    animation: pop-modal .5s;\n  }\n\n  @media (max-width: 546px) {\n    .wrap-book-detail {\n      width: 100%;\n      margin: 0 auto;\n      padding: 3vh 1vh 2vh 1vh;\n      background: linear-gradient(to right, #4BC0C8, #C779D0, #FEAC5E);\n    }\n  }\n\n  @keyframes pop-modal {\n    0% {\n      opacity: 0;\n    }\n    100% {\n      opacity: 1;\n    }\n  }\n\n  @keyframes slide-dialog {\n    0% {\n      transform: translate(0, 10vh)\n    }\n    100% {\n      transform: translate(0, 0);\n    }\n  }\n\n  @keyframes fade-in {\n    0% {\n      opacity: 0;\n      transform: translate(-100px, 0);\n    }\n    100% {\n      opacity: 1;\n      transform: translate(0, 0);\n    }\n  }\n\n</style>\n"]}]}